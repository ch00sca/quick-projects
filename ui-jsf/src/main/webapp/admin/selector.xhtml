<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">
<f:view>
    <h:head>
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
        <h:outputStylesheet library="css" name="zepasweb.css"/>
        <h:outputScript library="primefaces" name="jquery/jquery.js" target="head"/>
        <h:outputScript library="js" name="zepasweb.js" target="head"/>
        <title><h:outputText value="Emtpry value mistakes"/></title>
    </h:head>
    <h:body onload="autoSearch();">

        <f:metadata>
            <f:viewAction action="#{selectorAction.init()}" onPostback="false"/>
        </f:metadata>

        <h:form>
            <!-- p:panel -->
            <p:panel header="selectOneMenu - good sample (empty value)">
                <!-- p:selectOneMenu with emtpy item - working sample -->
                <p:separator/>
                <h:outputLabel value="Rabattklassen Selektor - good"/>
                <p:separator/>
                <p:selectOneMenu value="#{selectorAction.selectedValue}">
                    <f:selectItem itemLabel="" itemValue="-"/>
                    <f:selectItems value="#{selectorAction.getRabattklassen()}" var="rabattklasse"
                                   itemLabel="#{rabattklasse.textLong} - #{rabattklasse.code}"
                                   itemValue="#{rabattklasse.code}"/>
                    <p:ajax process="@this" update="selectedRabattId"/>
                </p:selectOneMenu>
                <p:spacer width="20"/>
                <h:outputLabel value="Selected Rabattklasse:"/>
                <p:spacer width="10"/>
                <h:outputText id="selectedRabattId" value="#{selectorAction.selectedValue}"/>
            </p:panel>
            <p:panel header="selectOneMenu - bad sample (empty value)">
                <!-- p:selectOneMenu with emtpy item - not working sample -->
                <p:separator/>
                <h:outputLabel value="Rabattklassen Selektor - bad"/>
                <p:separator/>
                <p:selectOneMenu value="#{selectorAction.selectedValue}">
                    <f:selectItem itemLabel="" itemValue=""/>
                    <f:selectItems value="#{selectorAction.getRabattklassen()}" var="rabattklasse"
                                   itemLabel="#{rabattklasse.textLong} - #{rabattklasse.code}"
                                   itemValue="#{rabattklasse.code}"/>
                    <p:ajax process="@this" update="selectedRabattIdBad"/>
                </p:selectOneMenu>
                <p:spacer width="20"/>
                <h:outputLabel value="Selected Rabattklasse:"/>
                <p:spacer width="10"/>
                <h:outputText id="selectedRabattIdBad" value="#{selectorAction.selectedValue}"/>
            </p:panel>
            <p:panel header="inputText - empty value not saved">
                <!-- p:inputText with emtpy item - not working sample -->
                <p:separator/>
                <h:outputLabel value="Postleitzahl - input text not saved when empty"/>
                <p:separator/>
                <p:spacer width="10"/>
                <p:inputText value="#{selectorAction.postleitzahl}" maxlength="12">
                    <p:ajax process="@this" update="postleitzahlId"/>
                </p:inputText>
                <p:spacer width="20"/>
                <h:outputLabel value="Postleitzahl:"/>
                <p:spacer width="10"/>
                <h:outputText id="postleitzahlId" value="#{selectorAction.postleitzahl}"/>
            </p:panel>
        </h:form>
    </h:body>
</f:view>
</html>
